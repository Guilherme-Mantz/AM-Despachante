@page "/recursos/create"

@using AMDespachante.UI.Web.Components.Shared.Recursos
@using AMDespachante.Application.Interfaces
@using AMDespachante.Application.ViewModels

@inject IRecursoAppService RecursoAppService
@inject NavigationManager NavigationManager
@inject ISnackbar Snackbar

<CustomPageTitle Titulo="Recursos" />

<RecursoForm OnSubmit="CriarRecurso" />

@code {
    private void CriarRecurso(RecursoViewModel recurso)
    {
        RecursoAppService.Add(recurso);
        Snackbar.Add($"Recurso criado com sucesso!", Severity.Success, c => c.SnackbarVariant = Variant.Filled);

        NavigationManager.NavigateTo("/recursos");
    }
}
